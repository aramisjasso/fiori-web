<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core">
    <Panel id="strategyAnalysisPanelFragment" headerText="{i18n>strategyAnalysisPanelTitle}" expandable="true" expanded="true" width="100%">
        <content>
            <f:SimpleForm id="strategyAnalysisFormInFragment" editable="true" layout="ResponsiveGridLayout"
                labelSpanXL="4" labelSpanL="4" labelSpanM="12" labelSpanS="12"
                adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0"
                columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false">
                <f:content>
                    <Label text="{i18n>strategyLabelText}" required="true"/>
                    <ComboBox id="strategyComboBoxInFragment"
                        items="{strategyAnalysisModel>/strategies}" selectionChange=".onStrategyChange"
                        placeholder="{i18n>selectStrategyPlaceholder}"
                        selectedKey="{strategyAnalysisModel>/strategyKey}" width="100%">
                        <core:Item key="{strategyAnalysisModel>key}" text="{strategyAnalysisModel>text}"/>
                    </ComboBox>

                    <VBox id="strategyInputsVBoxInFragment" visible="{strategyAnalysisModel>/controlsVisible}" width="100%"> <f:SimpleForm id="strategyParamsFormInFragment" editable="true" layout="ResponsiveGridLayout"
                            labelSpanXL="4" labelSpanL="4" labelSpanM="12" labelSpanS="12"
                            emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0"
                            columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false">
                            <f:content>
                                <Label text="{i18n>longSMALabelText}"/>
                                <Input id="longSMAInputInFragment" value="{strategyAnalysisModel>/longSMA}" type="Number" placeholder="Ej: 200" width="100%"/> <Label text="{i18n>shortSMALabelText}"/>
                                <Input id="shortSMAInputInFragment" value="{strategyAnalysisModel>/shortSMA}" type="Number" placeholder="Ej: 50" width="100%"/> <Label text="{i18n>startDateLabelText}"/>
                                <DatePicker id="startDatePickerInFragment"
                                    value="{
                                        path: 'strategyAnalysisModel>/startDate', type: 'sap.ui.model.type.Date',
                                        formatOptions: { pattern: 'yyyy-MM-dd' }
                                    }"
                                    displayFormat="long"
                                    width="100%"/>

                                <Label text="{i18n>endDateLabelText}"/>
                                <DatePicker id="endDatePickerInFragment"
                                    value="{
                                        path: 'strategyAnalysisModel>/endDate', type: 'sap.ui.model.type.Date',
                                        formatOptions: { pattern: 'yyyy-MM-dd' }
                                    }"
                                    displayFormat="long"
                                    width="100%"/>
                                
                                <Label /> <Button id="runAnalysisButtonInFragment" text="{i18n>runAnalysisButtonText}" press=".onRunAnalysisPress" type="Emphasized" width="auto"/>
                            </f:content>
                        </f:SimpleForm>
                    </VBox>
                </f:content>
            </f:SimpleForm>
        </content>
    </Panel>
</core:FragmentDefinition>